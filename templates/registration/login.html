{% extends 'base.html' %} {% block 'content' %}
<div class="row">
  <div class="col-12 mt-3 text-center text-uppercase">
    <h2>Login</h2>
  </div>
</div>

<main class="row">
  <div class="col-lg-4 col-md-6 col-sm-8 mx-auto bg-white py-3 mb-4">
    <div class="row">
      <div class="col-12">
        {% if form.errors %}
          <p>Your username or password was incorrect. Try again.</p>
        {% endif %}

        {% if next %}
          {% if user.is_authenticated %}
            <p>You dont have permission for this page</p>

          {% else %}
            <p>Please login to see this page</p>
          {% endif %} 
        {% endif %}

        <form action={% url 'login' %} method="POST">
          {% csrf_token %}
          <div class="mb-3">
            {{form.username.label_tag}}
            {{form.username}}
          </div>
          <div class="mb-3">
            {{form.password.label_tag}}
            {{form.password}}
          </div>
          <div class="mb-3">
            <div class="form-check">
              <input type="checkbox" id="remember" class="form-check-input" />
              <label for="remember" class="form-check-label ml-2"
                >Remember Me</label
              >
            </div>
          </div>
          <div class="mb-3">
            <input type="submit" class="btn btn-outline-dark" value="login" />
            <input type="hidden" name='next' value="{{next}}">
          </div>
        </form>
      </div>
    </div>
  </div>
</main>

{% endblock %}
